---
title: "ESM206-Lab8"
author: "Anusha Sridhara"
date: "11/15/2021"
output: html_document
---

```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE)


#Attach Packages
library(tidyverse)
library(corrplot)
library(stargazer)
library(broom)
library(modelsummary)
library(here)
```

## Read in the data
```{r}
homes <- read_csv(here("data","slo_homes.csv"))
```

A little bit of cleaning:

Make a subset called homes_sub that only contains observations (rows) where the city is:
- san Luis Obispo
- Arroyo Grande
- Atascadero
- Santa Maria-Orcutt

```{r}
homes_sub <- homes %>% 
  filter(City %in% c("San Luis Obispo", "Arroyo Grande", "Atascadero", "Santa Maria-Orcutt"))
```

## Do a little exploring of our data

Summary statistics for home price based on city and sale status 

-Find & return in a nice summary table the mean and standard deviation of home price, grouped by city and sale status 
```{r, include=FALSE, eval=FALSE}
# here, the include=FALSE makes the table to not show in knitted document 
summary_table <- homes_sub %>% 
  group_by(City, Status) %>% 
  summarize(mean_price = mean(Price, na.rm=TRUE),
            sd_price = sd(Price, na.rm=TRUE))

# Actually I don't even want to run this code: eval=FALSE
```

```{r}
ggplot(data = homes_sub, aes(x=Price))+
  geom_density(aes(color= City, fill=City), alpha = 0.2)+
  scale_x_continuous(limits =c(0, 3e6))
```
Explore the relationship (visual data exploration) between square footage and home price. Change the point COLOR by City, and the point shape by sale status

```{r}
ggplot(data = homes_sub, aes(x= SqFt, y= Price))+
  geom_point()+
  geom_smooth(lm="method")
```








